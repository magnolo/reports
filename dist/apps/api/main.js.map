{"version":3,"file":"main.js","mappings":"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","sources":["webpack://twentythree/./apps/api/src/app/app.controller.ts","webpack://twentythree/./apps/api/src/app/app.module.ts","webpack://twentythree/./apps/api/src/app/app.service.ts","webpack://twentythree/./apps/api/src/app/news/news.component.ts","webpack://twentythree/./apps/api/src/app/news/news.service.ts","webpack://twentythree/./apps/api/src/app/regions/regions.component.ts","webpack://twentythree/./apps/api/src/app/regions/regions.service.ts","webpack://twentythree/./apps/api/src/app/report/report.component.ts","webpack://twentythree/./apps/api/src/app/report/report.service.ts","webpack://twentythree/./apps/api/src/environments/environment.ts","webpack://twentythree/external commonjs \"@nestjs/common\"","webpack://twentythree/external commonjs \"@nestjs/core\"","webpack://twentythree/external commonjs \"faker/locale/de_AT\"","webpack://twentythree/external commonjs \"rxjs\"","webpack://twentythree/external commonjs \"rxjs/operators\"","webpack://twentythree/external commonjs \"tslib\"","webpack://twentythree/webpack/bootstrap","webpack://twentythree/./apps/api/src/main.ts"],"sourcesContent":["import { Controller, Get, Param } from '@nestjs/common';\n\nimport { AppService } from './app.service';\n\n@Controller('ranks')\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n\n\n  // @Get('navigation')\n  // getNavigation() {\n  //   return this.appService.getNews();\n  // }\n\n  @Get(':slug')\n  getContent(@Param('slug') slug: string) {\n    return this.appService.getData(slug, false, 'card');\n  }\n}\n","import { RegionsService } from './regions/regions.service';\nimport { NewsController } from './news/news.component';\n\nimport { HttpModule, Module } from '@nestjs/common';\n\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { RegionsController } from './regions/regions.component';\nimport { NewsService } from './news/news.service';\nimport { ReportController } from './report/report.component';\nimport { ReportService } from './report/report.service';\n\n@Module({\n  imports: [HttpModule],\n  controllers: [AppController, ReportController, NewsController, RegionsController],\n  providers: [AppService, ReportService, NewsService, RegionsService],\n})\nexport class AppModule {}\n","import { HttpService, Injectable } from '@nestjs/common';\nimport { of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable()\nexport class AppService {\n  private baseUrl = 'https://app.23degrees.io/api/v2/content';\n  private url = `${this.baseUrl}?space=all&order_by=updated_at desc&page=0&page_size=100&type=folder`;\n  private token =\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDIxMGI4YTAzYzZiYTAwMWQ1MmZiYzEiLCJlbWFpbCI6InJhbmtpbmdzQDIzZGVncmVlcy5pbyIsInNsdWciOiJyYW5raW5ncy11bmQtbW9uaXRvcmluZyIsInJvbGVzIjpbIjVkNDhhYmM1ODMxODZjMDAxZWY2Yzc5MCIsIjVmNjQ5MDdjY2JkMDBkMDAxYzViMDhlZSIsIjVkNDhhYmM1ODMxODZjMDAxZWY2Yzc5MSIsIjVkNGFlZDBlMmU1YTMxMDAyMDY0ZWEzMSIsIjVkNGFlZDI5MmU1YTMxMDAyMDY0ZWEzMiIsIjVmMmFjYTQwZTJmNmQzMDAxZGMyZDgyMCIsIjVlZDExNzdkZGE4YTc3MDAxZDJhZDJiYSIsIjVmZTA1MWNmYWU3YTcyMDAxY2VkODUyYSJdLCJpYXQiOjE2MzczMTM3MDl9.oogUWwv2VubvXiOvSXSTt0VKb9TI_bBA6qtOjXp0uVY';\n\n  constructor(private httpService: HttpService) {}\n\n  getData(\n    slug = 'ZUSlRmBAfim8r4ex-collection-edutcation-and-digitalization',\n    includeSubfolders = true,\n    projection: 'simple' | 'full' | 'card' = 'simple'\n  ) {\n    this.httpService.get(`${this.baseUrl}/${slug}`);\n    return this.httpService\n      .get(\n        `${\n          this.url\n        }&parent=${slug}&projection=${projection}&includesubfolders=${\n          includeSubfolders ? 'yes' : 'no'\n        }`,\n        {\n          headers: {\n            Authorization: 'Bearer ' + this.token,\n          },\n        }\n      )\n      .pipe(\n        catchError((boom) => {\n          console.log('boom');\n          return of(boom);\n        }),\n        map((response) => response.data.payload)\n      );\n  }\n}\n","import { NewsService } from './news.service';\nimport { Controller, Get } from '@nestjs/common';\n\n\n@Controller('news')\nexport class NewsController {\n  constructor(private readonly newsService: NewsService) {}\n\n  @Get()\n  getRanks() {\n    return this.newsService.getNews();\n  }\n\n\n}\n","import { Injectable } from '@nestjs/common';\nimport { News } from '@twentythree/api-interfaces';\nimport * as faker from 'faker/locale/de_AT';\n\nconst randomNumber = (max) => Math.floor(Math.random() * max);\n\n@Injectable()\nexport class NewsService {\n  getNews(): News[] {\n    const news: News[] = [];\n\n    for (let i = 0; i <= 4; i++) {\n      const item: News = {\n        slug: `news-${i}`,\n        name: faker.lorem.words(),\n        created_at: faker.date.recent(),\n        description: faker.lorem.paragraph(),\n        text: faker.lorem.paragraphs(),\n        image: {\n          url: `https://source.unsplash.com/random/800x600?sig=${randomNumber(\n            1000\n          )}`,\n        },\n      };\n      news.push(item);\n    }\n\n    return news;\n  }\n}\n","\nimport { Controller, Get } from '@nestjs/common';\nimport { RegionsService } from './regions.service';\n\n\n@Controller('regions')\nexport class RegionsController {\n  constructor(private readonly regionsService: RegionsService) {}\n\n  @Get()\n  getRegions() {\n    return this.regionsService.getRegions();\n  }\n\n\n}\n","import { map, tap } from 'rxjs/operators';\nimport { HttpService, Injectable } from '@nestjs/common';\nimport { environment } from '../../environments/environment';\n\n@Injectable()\nexport class RegionsService {\n  private url = `${environment.api.baseUrl}regions`;\n\n  constructor(private httpService: HttpService) {}\n\n  getRegions() {\n    // 'https://app.23degrees.io/api/v2/regions?space=public&mappingid=world_countries_disputed&page=0&page_size=50'\n    console.log(\n      `${this.url}?space=public&mappingid=world_countries_disputed&page=0&page_size=100`\n    );\n    console.log('Bearer ' + environment.api.token);\n    return this.httpService\n      .get(\n        `${this.url}?space=public&mappingid=world_countries_disputed&page=0&page_size=100`,\n        {\n          headers: {\n            Authorization: 'Bearer ' + environment.api.token,\n          },\n        }\n      )\n      .pipe(  map((response) => response.data.payload), tap((data) => console.log(data)));\n  }\n}\n","import { ReportService } from './report.service';\nimport { Controller, Get, Param } from '@nestjs/common';\n\n\n@Controller('reports')\nexport class ReportController {\n  constructor(private readonly reportService: ReportService) {}\n\n  @Get()\n  getRanks() {\n    return this.reportService.getRanks();\n  }\n\n  @Get('categories')\n  getCategories() {\n    return this.reportService.getCategories();\n  }\n}\n","import { categories } from './../../../../ranks/src/app/mock-api/apps/academy/data';\nimport { HttpService, Injectable } from '@nestjs/common';\nimport { Category, Report } from '@twentythree/api-interfaces';\nimport * as faker from 'faker/locale/de_AT';\n\nconst randomNumber = (max) => Math.floor(Math.random() * max);\n\n@Injectable()\nexport class ReportService {\n  private countryRestUrl = 'https://restcountries.com/v3.1/alpha/';\n\n  constructor(private httpService: HttpService) {}\n\n  private getCountryDetails(code: string) {\n    return this.httpService.get(`${this.countryRestUrl}${code}`);\n  }\n\n  getRanks(count = 40, category?: Category): Report[] {\n    const reports: Report[] = [];\n    const cat = { ...category } || {\n      slug: 'category-1',\n      name: faker.lorem.words(),\n      description: faker.lorem.paragraph(),\n    };\n\n    for (let i = 0; i < count; i++) {\n      const report: Report = {\n        slug: `report-${i}`,\n        name: faker.commerce.productName(),\n        description: faker.lorem.paragraph(),\n        category: cat,\n        image: {\n          url: `https://source.unsplash.com/random/800x600?sig=${randomNumber(\n            1000\n          )}`,\n        },\n        type: 'composite',\n        value: randomNumber(100),\n        ranks: [\n          {\n            score: randomNumber(100),\n            trend: randomNumber(20),\n            rank: 1,\n            country_code: faker.address.countryCode().toLowerCase(),\n            country_name: faker.address.country(),\n          },\n        ],\n        indicators_count: randomNumber(40),\n      };\n      reports.push(report);\n    }\n\n    // const codes = reports.map((report) => report.ranks.map((rank) => rank.country_code));\n\n    // console.log(codes.join(','));\n    // this.getCountryDetails(codes.join(',')).toPromise()\n\n    return reports;\n  }\n\n  getCategories() {\n    const categories: Category[] = [];\n    const names = [\n      'Sustainability and Resources',\n      'Digitalization, Education & Governance',\n      'Economics & Business',\n    ];\n    for (let i = 0; i < 5; i++) {\n      const category: Category = {\n        slug: `category-${i}`,\n        name: names[i] ? names[i] : faker.lorem.words(),\n        description: faker.lorem.paragraph(),\n        short: faker.lorem.slug(),\n        color: faker.internet.color(),\n        tags: [],\n      };\n\n      category.reports = this.getRanks(8, category);\n\n      categories.push(category);\n    }\n\n    return categories;\n  }\n}\n","export const environment = {\n  production: false,\n  api: {\n    baseUrl: 'https://app.23degrees.io/api/v2/',\n    token:\n      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDIxMGI4YTAzYzZiYTAwMWQ1MmZiYzEiLCJlbWFpbCI6InJhbmtpbmdzQDIzZGVncmVlcy5pbyIsInNsdWciOiJyYW5raW5ncy11bmQtbW9uaXRvcmluZyIsInJvbGVzIjpbIjVkNDhhYmM1ODMxODZjMDAxZWY2Yzc5MCIsIjVmNjQ5MDdjY2JkMDBkMDAxYzViMDhlZSIsIjVkNDhhYmM1ODMxODZjMDAxZWY2Yzc5MSIsIjVkNGFlZDBlMmU1YTMxMDAyMDY0ZWEzMSIsIjVkNGFlZDI5MmU1YTMxMDAyMDY0ZWEzMiIsIjVmMmFjYTQwZTJmNmQzMDAxZGMyZDgyMCIsIjVlZDExNzdkZGE4YTc3MDAxZDJhZDJiYSIsIjVmZTA1MWNmYWU3YTcyMDAxY2VkODUyYSJdLCJpYXQiOjE2MzczMTM3MDl9.oogUWwv2VubvXiOvSXSTt0VKb9TI_bBA6qtOjXp0uVY',\n\n  }\n};\n","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"faker/locale/de_AT\");","module.exports = require(\"rxjs\");","module.exports = require(\"rxjs/operators\");","module.exports = require(\"tslib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * This is not a production server yet!\n * This is only a minimal backend to get started.\n */\n\nimport { Logger } from '@nestjs/common';\nimport { NestFactory } from '@nestjs/core';\n\nimport { AppModule } from './app/app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  const globalPrefix = 'api';\n  app.setGlobalPrefix(globalPrefix);\n  const port = process.env.PORT || 3333;\n  await app.listen(port, () => {\n    Logger.log('Listening at http://localhost:' + port + '/' + globalPrefix);\n  });\n}\n\nbootstrap();\n"],"names":[],"sourceRoot":""}